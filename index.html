<!DOCTYPE html>
<html>
<head>
<title>Mill Road Winter Fair 2019</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap 4 -->
<link 	rel="stylesheet" 
		href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
		crossorigin="anonymous">
<!-- Javascript imports needed by bootstrap 4 (not slim version because we need async queries only in the full version) -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" 
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" 
		crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" 
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" 
		crossorigin="anonymous"></script>
<!-- Allows users to search all the items in the page, Fuse -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.5/fuse.min.js"></script>
<!-- Global styling --> 
<link rel="stylesheet" href="css/style.css">
<!-- Useful functions needed by lots of our javascript -->
<script src="js/common.js"></script>
<!-- For the shop tab -->
<link rel="stylesheet" href="css/shop_tab.css">
<script src="js/stalls_tab.js"></script>
<!-- For the performances tab -->
<link rel="stylesheet" href="css/performances_tab.css">
<script src="js/performances_tab.js"></script>
<!-- For the events tab -->
<link rel="stylesheet" href="css/events_tab.css">
<script src="js/events_tab.js"></script>
<!-- For the search tab -->
<link rel="stylesheet" href="css/search_tab.css">
<script src="js/search_tab.js"></script>
<!-- For the map tab -->
<link rel="stylesheet" href="css/map_tab.css">
<script>
// Specifically js for this layout
// When the user scrolls the page, execute myFunction
window.onscroll = function() {keepNavSticky()};
var sticky;
var header;
var body_original_offset;
var body_original_margin_top;
var body;
// Add the sticky class to the header when you reach its scroll position. Remove "sticky" when you leave the scroll position
function keepNavSticky() {
  if (header) {
	if (window.pageYOffset > sticky) {
	  header.addClass("sticky");
	  body.css({'margin-top': body_original_offset});
	} else {
	  header.removeClass("sticky");
	  body.css({'margin-top': body_original_margin_top});
	}
  }
} 

$(document).ready(function() {
	header = $("#stickyHeader");
	body = $(".tab-content");
// Get the offset position of the navbar
	var offset = $("#stickyHeader").offset();
	var original_tab_offset = body.offset();
	sticky = offset.top;
	body_original_offset = original_tab_offset.top;
	body_original_margin_top = body.css('margin-top');
	$(document).on("show.bs.tab", function (e) {
		window.scrollTo(0,0);
	});
});
</script>
</head>
<body>
	<div id="stickyHeader">
		<img class="header-item" src="http://www.millroadwinterfair.org/assets/img/system/mrwf-mobile-logo-negative.png" style="max-width: 85%; max-height:3%;">
		<img class="header-item" src="http://www.millroadwinterfair.org/assets/img/system/date-time-inverse.png" style="height:3%;"
		<!-- Navigation, using nav-tab (https://getbootstrap.com/docs/4.0/components/navs/#javascript-behavior) -->
		<div class="header-item" id="search-box"><input id="search-box-input" type="text" /><button id="search-box-button">Search</button></div>
		<ul class="nav nav-tabs" id="mrwfNav" role="tablist">
			<li class="nav-item">
				<a class="nav-link active" id="home-tab" 
					data-toggle="tab" href="#home" 
					role="tab" aria-controls="home" aria-selected="true">Home</a>
			</li>
			<li class="nav-item">
					<a class="nav-link"	id="map-tab" 
					data-toggle="tab" href="#map" 
					role="tab" aria-controls="map" aria-selected="false">Map</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" id="shops-tab" 
					data-toggle="tab" href="#shops" 
					role="tab" aria-controls="shops" aria-selected="false">Shops</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" id="performances-tab" 
					data-toggle="tab" href="#performances" 
					role="tab" aria-controls="music" aria-selected="false">Performances</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" id="events-tab" 
					data-toggle="tab" href="#events" 
					role="tab" aria-controls="events" aria-selected="false">Events</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" id="twitter-tab" 
					data-toggle="tab" href="#twitter" 
					role="tab" aria-controls="twitter" aria-selected="false">Twitter</a>
			</li>
			<li class="nav-item" style="display: none">
				<a class="nav-link" id="search-tab" 
					data-toggle="tab" href="#search" 
					role="tab" aria-controls="search" aria-selected="false">Search</a>
			</li>
		</ul>
	</div>
	<div class="tab-content" id="mrwfNavContent">
		<div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">This is the home content</div>

		<div class="tab-pane fade" id="map" role="tabpanel" aria-labelledby="map-tab">
			<embed id="map-iframe" src="https://www.google.co.uk/maps/d/u/0/embed?mid=1G85f_LiH9m2Vjw-02LxbTVsSx8q2vzRD&zoom=1" width="370" height="480"></embed>
		</div>
		<div class="tab-pane fade" id="shops" role="tabpanel" aria-labelledby="shop-tab"><!-- These are the shops --></div>
		<div class="tab-pane fade" id="performances" role="tabpanel" aria-labelledby="performances-tab"><!-- This is the busking listing --></div>
		<div class="tab-pane fade" id="events" role="tabpanel" aria-labelledby="events-tab"><!-- These are the events throughout the day --></div>
		<div class="tab-pane fade" id="twitter" role="tabpanel" aria-labelledby="twitter-tab"><a class="twitter-timeline" href="https://twitter.com/MillRoadFair?ref_src=twsrc%5Etfw">Tweets by MillRoadWinterFair</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div>
		<div class="tab-pane fade" id="search" role="tabpanel" aria-labelledby="search-tab">These are the search results</div> 
	</div>
</body>
</html>
